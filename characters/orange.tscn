[gd_scene load_steps=27 format=3 uid="uid://dmm4hlogobbev"]

[ext_resource type="Script" path="res://characters/orange.gd" id="1_s0qxb"]
[ext_resource type="Texture2D" uid="uid://4owiu2xmfh2p" path="res://images/creatures/orange/stand/frame0000.png" id="8_c3atd"]
[ext_resource type="Texture2D" uid="uid://c82w1b7hg3u2b" path="res://images/creatures/orange/stand/frame0001.png" id="9_lfrch"]
[ext_resource type="Texture2D" uid="uid://b0xttjesiavuf" path="res://images/creatures/orange/stand/frame0002.png" id="10_la6o8"]
[ext_resource type="Texture2D" uid="uid://dsj4ajevx1sya" path="res://images/creatures/orange/stand/frame0003.png" id="11_r6vbw"]
[ext_resource type="Texture2D" uid="uid://kitxtxa4g4sj" path="res://images/creatures/orange/stand/frame0004.png" id="12_ui1cb"]
[ext_resource type="Texture2D" uid="uid://cmblcjkqklmqc" path="res://images/creatures/orange/stand/frame0005.png" id="13_cqjrv"]
[ext_resource type="Texture2D" uid="uid://bjl3ys8inbw18" path="res://images/creatures/orange/stand/frame0006.png" id="14_5uck8"]
[ext_resource type="Texture2D" uid="uid://beam7sp5bq6di" path="res://images/creatures/orange/stand/frame0007.png" id="15_vbixu"]
[ext_resource type="Texture2D" uid="uid://dboak020bm7e5" path="res://images/creatures/orange/stand/frame0008.png" id="16_x2v5f"]
[ext_resource type="Texture2D" uid="uid://fpgt3sh5i2g8" path="res://images/creatures/orange/stand/frame0009.png" id="17_efwpu"]
[ext_resource type="Script" path="res://scripts/OrangeStateMachine.gd" id="18_2mtmp"]
[ext_resource type="Texture2D" uid="uid://dwal1jkhg06jl" path="res://images/creatures/orange/stand/frame0010.png" id="18_ji43f"]
[ext_resource type="Script" path="res://scripts/orange_states/ground.gd" id="19_nv42o"]
[ext_resource type="Texture2D" uid="uid://cq810ysavrifu" path="res://images/creatures/orange/stand/frame0011.png" id="19_ph4nr"]
[ext_resource type="Script" path="res://scripts/orange_states/air.gd" id="20_es5hx"]
[ext_resource type="Texture2D" uid="uid://c0klsbgk7vmu5" path="res://images/creatures/orange/stand/frame0012.png" id="20_yxhtt"]
[ext_resource type="Script" path="res://scripts/orange_states/machrun.gd" id="21_d1wrk"]
[ext_resource type="Texture2D" uid="uid://lusjl86prg3h" path="res://images/creatures/orange/stand/frame0013.png" id="21_dgfhy"]
[ext_resource type="Texture2D" uid="uid://dp00otb7vxmbf" path="res://images/creatures/orange/stand/frame0014.png" id="22_ngak8"]
[ext_resource type="Script" path="res://scripts/orange_states/machslide.gd" id="22_s6boe"]
[ext_resource type="Texture2D" uid="uid://0kh6v4v701a" path="res://images/creatures/orange/stand/frame0015.png" id="23_b6kei"]

[sub_resource type="SpriteFrames" id="SpriteFrames_8po63"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": ExtResource("8_c3atd")
}, {
"duration": 1.0,
"texture": ExtResource("9_lfrch")
}, {
"duration": 1.0,
"texture": ExtResource("10_la6o8")
}, {
"duration": 1.0,
"texture": ExtResource("11_r6vbw")
}, {
"duration": 1.0,
"texture": ExtResource("12_ui1cb")
}, {
"duration": 1.0,
"texture": ExtResource("13_cqjrv")
}, {
"duration": 1.0,
"texture": ExtResource("14_5uck8")
}, {
"duration": 1.0,
"texture": ExtResource("15_vbixu")
}, {
"duration": 1.0,
"texture": ExtResource("16_x2v5f")
}, {
"duration": 1.0,
"texture": ExtResource("17_efwpu")
}, {
"duration": 1.0,
"texture": ExtResource("18_ji43f")
}, {
"duration": 1.0,
"texture": ExtResource("19_ph4nr")
}, {
"duration": 1.0,
"texture": ExtResource("20_yxhtt")
}, {
"duration": 1.0,
"texture": ExtResource("21_dgfhy")
}, {
"duration": 1.0,
"texture": ExtResource("22_ngak8")
}, {
"duration": 1.0,
"texture": ExtResource("23_b6kei")
}],
"loop": true,
"name": &"default",
"speed": 24.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2kdpa"]
size = Vector2(20, 60)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_p28o8"]
size = Vector2(20, 30.5)

[sub_resource type="GDScript" id="GDScript_06dlf"]
script/source = "extends Label

@export var state_machine : FiniteStateMachine

func _process(_delta):
	if(state_machine.current_state.name == \"MachRun\"):
		text = \"State: Mach \" + str(owner.get_mach()) + \" (\" + str(owner.get_mach(true)) + \")\"
	else:
		text = \"State: \" + state_machine.current_state.name
"

[node name="orange" type="CharacterBody2D"]
floor_constant_speed = true
floor_max_angle = 1.1781
floor_snap_length = 64.0
script = ExtResource("1_s0qxb")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
sprite_frames = SubResource("SpriteFrames_8po63")
autoplay = "default"

[node name="StandCollision" type="CollisionShape2D" parent="."]
position = Vector2(0, 4)
scale = Vector2(2, 2)
shape = SubResource("RectangleShape2D_2kdpa")

[node name="DuckCollision" type="CollisionShape2D" parent="."]
position = Vector2(0, 34)
scale = Vector2(2, 2)
shape = SubResource("RectangleShape2D_p28o8")
disabled = true

[node name="StateDebug" type="Label" parent="." node_paths=PackedStringArray("state_machine")]
offset_left = -47.0
offset_top = -87.0
offset_right = 150.0
offset_bottom = -61.0
text = "State:"
script = SubResource("GDScript_06dlf")
state_machine = NodePath("../FiniteStateMachine")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(0, 9)
zoom = Vector2(0.8, 0.8)

[node name="FiniteStateMachine" type="Node" parent="." node_paths=PackedStringArray("current_state")]
script = ExtResource("18_2mtmp")
current_state = NodePath("Ground")

[node name="Ground" type="Node" parent="FiniteStateMachine"]
script = ExtResource("19_nv42o")

[node name="Air" type="Node" parent="FiniteStateMachine"]
script = ExtResource("20_es5hx")

[node name="MachRun" type="Node" parent="FiniteStateMachine"]
script = ExtResource("21_d1wrk")

[node name="MachSlide" type="Node" parent="FiniteStateMachine"]
script = ExtResource("22_s6boe")
